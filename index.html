<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ch√° de Panela - Stefanny & Dhiego</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <meta property="og:title" content="Ch√° de Panela - Stefanny & Dhiego" />
    <meta property="og:description" content="Voc√™ foi convidado para o Ch√° de Panela da Stefanny & Dhiego! üéâ Data: 14/02/2026 √†s 17:00h. Local: Espa√ßo Esquina do Paraiso - Res. Paraiso 2." />
    <meta property="og:image" content="https://dhiego16.github.io/cha-de-panela/convite.png?v=1" />
    <meta property="og:image:width" content="1536" />
    <meta property="og:image:height" content="1024" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://dhiego16.github.io/cha-de-panela/" />
    <style>
        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }
        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(110vh) rotate(360deg); opacity: 0.5; }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes bounce-arrow {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(10px); }
        }
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 0 0 rgba(168, 85, 247, 0.4); }
            50% { box-shadow: 0 0 20px 10px rgba(168, 85, 247, 0); }
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-float { animation: float 4s ease-in-out forwards; }
        .animate-fall { animation: fall 5s linear forwards; }
        .animate-fadeIn { animation: fadeIn 0.6s ease-out; }
        .animate-bounce-arrow { animation: bounce-arrow 2s ease-in-out infinite; }
        .animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
        .animate-spin { animation: spin 1s linear infinite; }
        .delay-1 { animation-delay: 0.2s; }
        .delay-2 { animation-delay: 0.4s; }
        .modal-backdrop {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyB7gOx0_DC-IJCUsiP628Vo7enjxgkMuWU",
            authDomain: "cha-panela-stefanny-dhiego.firebaseapp.com",
            databaseURL: "https://cha-panela-stefanny-dhiego-default-rtdb.firebaseio.com",
            projectId: "cha-panela-stefanny-dhiego",
            storageBucket: "cha-panela-stefanny-dhiego.firebasestorage.app",
            messagingSenderId: "879933812057",
            appId: "1:879933812057:web:7390a03cd869a768cbf048"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        window.firebaseDB = database;
        window.firebaseRef = ref;
        window.firebaseSet = set;
        window.firebaseOnValue = onValue;
    </script>
    
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        function Modal({ isOpen, onClose, title, children }) {
            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop" onClick={onClose}>
                    <div className="bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-fadeIn" onClick={(e) => e.stopPropagation()}>
                        <div className="flex justify-between items-center mb-4">
                            <h3 className="text-xl font-bold text-purple-600">{title}</h3>
                            <button onClick={onClose} className="text-gray-400 hover:text-gray-600 text-2xl leading-none" aria-label="Fechar">&times;</button>
                        </div>
                        {children}
                    </div>
                </div>
            );
        }

        function LoadingSpinner() {
            return (
                <div className="flex items-center justify-center">
                    <div className="w-8 h-8 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin"></div>
                </div>
            );
        }

        function ChaDePanelaInvite() {
            const [isOpen, setIsOpen] = useState(false);
            const [isLoading, setIsLoading] = useState(false);
            const [hearts, setHearts] = useState([]);
            const [flowers, setFlowers] = useState([]);
            const [confirmed, setConfirmed] = useState(false);
            const [selectedGift, setSelectedGift] = useState(null);
            const [isPlaying, setIsPlaying] = useState(false);
            const [showPix, setShowPix] = useState(false);
            const [pixCopied, setPixCopied] = useState(false);
            const [reservedGifts, setReservedGifts] = useState({});
            const [loadingGifts, setLoadingGifts] = useState(true);
            const [weather, setWeather] = useState(null);
            const [loadingWeather, setLoadingWeather] = useState(true);
            const [showThankYou, setShowThankYou] = useState(false);
            const [guestName, setGuestName] = useState('');
            const [showScrollArrow, setShowScrollArrow] = useState(true);
            const [showTopBar, setShowTopBar] = useState(false);
            const [showGiftModal, setShowGiftModal] = useState(false);
            const [showConfirmModal, setShowConfirmModal] = useState(false);
            const [selectedGiftForModal, setSelectedGiftForModal] = useState(null);
            const [modalInputName, setModalInputName] = useState('');
            const [videoInView, setVideoInView] = useState(false);
            const audioRef = useRef(null);
            const detailsRef = useRef(null);
            const giftsRef = useRef(null);
            const confirmRef = useRef(null);
            const videoRef = useRef(null);

            const gifts = [
                { id: 'panelas', name: 'Jogo de panelas', emoji: 'üç≥' },
                { id: 'facas', name: 'Jogo de facas', emoji: 'üî™' },
                { id: 'cama', name: 'Jogo de Cama', emoji: 'üõèÔ∏è' },
                { id: 'batedeira', name: 'Batedeira', emoji: 'ü•Ñ' },
                { id: 'pratos', name: 'Jogo de pratos', emoji: 'üçΩÔ∏è' },
                { id: 'copos', name: 'Jogo de copos', emoji: 'ü•§' },
                { id: 'potes', name: 'Conjunto de potes', emoji: 'ü•´' },
                { id: 'tabua', name: 'T√°bua de corte', emoji: '‚¨ú' },
                { id: 'chaleira', name: 'Chaleira', emoji: '‚òï' },
                { id: 'frigideira', name: 'Frigideira', emoji: 'üç≥' },
                { id: 'assadeiras', name: 'Assadeiras', emoji: 'ü•ò' },
                { id: 'forma', name: 'Forma de bolo', emoji: 'üéÇ' }
            ];

            useEffect(() => {
                if (videoRef.current) {
                    const observer = new IntersectionObserver(
                        (entries) => {
                            entries.forEach(entry => {
                                setVideoInView(entry.isIntersecting);
                            });
                        },
                        { threshold: 0.5 }
                    );
                    observer.observe(videoRef.current);
                    return () => observer.disconnect();
                }
            }, [isOpen]);

            useEffect(() => {
                if (isOpen && audioRef.current) {
                    audioRef.current.currentTime = 60;
                    audioRef.current.play().then(() => setIsPlaying(true)).catch(err => console.log('Autoplay bloqueado'));
                }
            }, [isOpen]);

            useEffect(() => {
                const handleScroll = () => {
                    setShowScrollArrow(window.scrollY <= 300);
                    setShowTopBar(window.scrollY > 100);
                };
                
                if (isOpen) {
                    window.addEventListener('scroll', handleScroll);
                    return () => window.removeEventListener('scroll', handleScroll);
                }
            }, [isOpen]);

            useEffect(() => {
                if (isOpen) {
                    const giftsRef = window.firebaseRef(window.firebaseDB, 'reserved-gifts');
                    window.firebaseOnValue(giftsRef, (snapshot) => {
                        setReservedGifts(snapshot.val() || {});
                        setLoadingGifts(false);
                    });
                }
            }, [isOpen]);

            useEffect(() => {
                if (isOpen) {
                    fetch('https://api.open-meteo.com/v1/forecast?latitude=-16.7072&longitude=-49.0919&daily=temperature_2m_max,temperature_2m_min,precipitation_probability_max,weathercode&timezone=America/Sao_Paulo&forecast_days=16')
                        .then(r => r.json())
                        .then(data => {
                            const idx = data.daily.time.indexOf('2026-02-14');
                            if (idx !== -1) {
                                setWeather({
                                    maxTemp: Math.round(data.daily.temperature_2m_max[idx]),
                                    minTemp: Math.round(data.daily.temperature_2m_min[idx]),
                                    precipitation: data.daily.precipitation_probability_max[idx],
                                    weatherCode: data.daily.weathercode[idx]
                                });
                            }
                        })
                        .catch(() => {})
                        .finally(() => setLoadingWeather(false));
                }
            }, [isOpen]);

            useEffect(() => {
                if (!isOpen) return;
                const interval = setInterval(() => {
                    setHearts(prev => [...prev, { id: Math.random(), left: Math.random() * 100, delay: Math.random() * 2 }]);
                }, 800);
                const cleanup = setTimeout(() => clearInterval(interval), 5000);
                return () => { clearInterval(interval); clearTimeout(cleanup); };
            }, [isOpen]);

            useEffect(() => {
                if (!isOpen) return;
                const interval = setInterval(() => {
                    setFlowers(prev => [...prev, { id: Math.random(), left: Math.random() * 100, delay: Math.random() * 2, flower: ['üå∏', 'üå∫', 'üåº', 'üå∑'][Math.floor(Math.random() * 4)] }]);
                }, 1200);
                const cleanup = setTimeout(() => clearInterval(interval), 6000);
                return () => { clearInterval(interval); clearTimeout(cleanup); };
            }, [isOpen]);

            useEffect(() => {
                if (hearts.length > 0) {
                    const timeout = setTimeout(() => setHearts(prev => prev.slice(1)), 4000);
                    return () => clearTimeout(timeout);
                }
            }, [hearts]);

            useEffect(() => {
                if (flowers.length > 0) {
                    const timeout = setTimeout(() => setFlowers(prev => prev.slice(1)), 5000);
                    return () => clearTimeout(timeout);
                }
            }, [flowers]);

            const [timeLeft, setTimeLeft] = useState(null);

            useEffect(() => {
                const calc = () => {
                    const diff = new Date('2026-02-14T17:00:00') - new Date();
                    if (diff > 0) {
                        setTimeLeft({
                            dias: Math.floor(diff / (1000 * 60 * 60 * 24)),
                            horas: Math.floor((diff / (1000 * 60 * 60)) % 24),
                            minutos: Math.floor((diff / 1000 / 60) % 60)
                        });
                    }
                };
                calc();
                const timer = setInterval(calc, 60000);
                return () => clearInterval(timer);
            }, []);

            const handleReserveGift = async (gift) => {
                if (reservedGifts[gift.id]) return;
                setSelectedGiftForModal(gift);
                setShowGiftModal(true);
            };

            const confirmReserveGift = async () => {
                if (!modalInputName.trim()) return;

                setIsLoading(true);
                try {
                    const giftRef = window.firebaseRef(window.firebaseDB, `reserved-gifts/${selectedGiftForModal.id}`);
                    await window.firebaseSet(giftRef, modalInputName.trim());
                    setSelectedGift(selectedGiftForModal.name);
                    setShowGiftModal(false);
                    setModalInputName('');
                } catch (error) {
                    alert('Erro ao reservar presente. Tente novamente.');
                } finally {
                    setIsLoading(false);
                }
            };

            const handleConfirm = () => {
                setShowConfirmModal(true);
            };

            const confirmPresence = () => {
                if (!modalInputName.trim()) return;

                setGuestName(modalInputName.trim());
                const gift = selectedGift || 'Nenhum presente selecionado ainda';
                const msg = `Ol√°! Sou ${modalInputName.trim()} e confirmo minha presen√ßa no Ch√° de Panela da Stefanny & Dhiego! üéâ\n\nPresente escolhido: ${gift}\n\nNos vemos dia 14/02/2026! üíï`;
                
                setConfirmed(true);
                setShowThankYou(true);
                setShowConfirmModal(false);
                setModalInputName('');
                
                setTimeout(() => {
                    window.open(`https://wa.me/5562995483241?text=${encodeURIComponent(msg)}`, '_blank');
                    setConfirmed(false);
                }, 1000);
            };

            const handleShare = async () => {
                const shareData = {
                    title: 'Ch√° de Panela - Stefanny & Dhiego',
                    text: 'Voc√™ foi convidado para o Ch√° de Panela da Stefanny & Dhiego! üíï',
                    url: window.location.href
                };

                if (navigator.share) {
                    try {
                        await navigator.share(shareData);
                    } catch (err) {
                        console.log('Erro ao compartilhar');
                    }
                } else {
                    navigator.clipboard.writeText(window.location.href);
                    alert('Link copiado para a √°rea de transfer√™ncia!');
                }
            };

            const getWeatherIcon = (code) => {
                if (code === 0) return '‚òÄÔ∏è';
                if (code <= 3) return '‚õÖ';
                if (code <= 67) return 'üåßÔ∏è';
                if (code <= 77) return 'üå®Ô∏è';
                if (code <= 82) return 'üåßÔ∏è';
                return '‚õàÔ∏è';
            };

            const getWeatherDesc = (code) => {
                if (code === 0) return 'C√©u limpo';
                if (code <= 3) return 'Parcialmente nublado';
                if (code <= 67) return 'Chuva';
                if (code <= 77) return 'Neve';
                if (code <= 82) return 'Chuva forte';
                return 'Tempestade';
            };

            const scrollToSection = (ref) => {
                ref.current?.scrollIntoView({ behavior: 'smooth', block: 'start' });
            };

            if (!isOpen) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-400 via-violet-300 to-purple-300 flex items-center justify-center p-4 relative overflow-hidden">
                        <div className="absolute top-10 left-10 text-6xl opacity-20 animate-pulse" aria-hidden="true">üíï</div>
                        <div className="absolute top-20 right-20 text-5xl opacity-20 animate-pulse delay-1" aria-hidden="true">üéä</div>
                        <div className="absolute bottom-20 left-20 text-5xl opacity-20 animate-pulse delay-2" aria-hidden="true">‚ú®</div>
                        <div className="absolute bottom-10 right-10 text-6xl opacity-20 animate-pulse" aria-hidden="true">üíç</div>
                        
                        <div className="bg-white rounded-3xl shadow-2xl p-12 max-w-md text-center relative z-10 transform hover:scale-105 transition-all duration-300">
                            <div className="mb-6">
                                <div className="text-7xl mb-4 animate-bounce">üíå</div>
                                <div className="flex justify-center gap-3 mb-4">
                                    <span className="text-4xl">üç≥</span>
                                    <span className="text-4xl">üíï</span>
                                    <span className="text-4xl">üéÅ</span>
                                </div>
                            </div>
                            
                            <h1 className="text-3xl font-bold text-purple-600 mb-2">Voc√™ foi convidado!</h1>
                            <p className="text-lg text-gray-600 mb-2">Para o Ch√° de Panela</p>
                            <p className="text-2xl font-semibold text-purple-500 mb-6">Stefanny & Dhiego</p>
                            
                            <div className="mb-6 text-gray-500">
                                <p className="text-sm">üìÖ 14 de Fevereiro de 2026</p>
                            </div>
                            
                            <div className="mb-6 bg-purple-50 border-2 border-purple-200 rounded-lg p-4">
                                <p className="text-sm text-purple-700 font-semibold">‚ö†Ô∏è Aten√ß√£o: Convite individual ou por casal</p>
                                <p className="text-xs text-gray-600 mt-1">Por favor, n√£o leve convidados adicionais</p>
                            </div>
                            
                            <button onClick={() => setIsOpen(true)} className="bg-gradient-to-r from-purple-500 to-violet-500 hover:from-purple-600 hover:to-violet-600 text-white px-10 py-4 rounded-full text-xl font-semibold shadow-xl transform hover:scale-110 transition-all duration-300 w-full">
                                ‚ú® Abrir Convite ‚ú®
                            </button>
                            
                            <div className="mt-6 flex justify-center gap-2">
                                <span className="text-2xl animate-bounce">‚ù§Ô∏è</span>
                                <span className="text-2xl animate-bounce delay-1">‚ù§Ô∏è</span>
                                <span className="text-2xl animate-bounce delay-2">‚ù§Ô∏è</span>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gradient-to-br from-purple-100 via-violet-50 to-purple-100 relative overflow-hidden">
                    <audio ref={audioRef} loop><source src="Perfect.mp3" type="audio/mpeg" /></audio>

                    <Modal isOpen={showGiftModal} onClose={() => setShowGiftModal(false)} title="Reservar Presente">
                        {selectedGiftForModal && (
                            <div>
                                <div className="text-center mb-4">
                                    <span className="text-6xl">{selectedGiftForModal.emoji}</span>
                                    <p className="text-lg font-semibold mt-2">{selectedGiftForModal.name}</p>
                                </div>
                                <input
                                    type="text"
                                    value={modalInputName}
                                    onChange={(e) => setModalInputName(e.target.value)}
                                    placeholder="Digite seu nome"
                                    className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none mb-4"
                                    onKeyPress={(e) => e.key === 'Enter' && confirmReserveGift()}
                                    aria-label="Nome para reservar presente"
                                />
                                <div className="flex gap-3">
                                    <button onClick={() => setShowGiftModal(false)} className="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold transition-all">
                                        Cancelar
                                    </button>
                                    <button onClick={confirmReserveGift} disabled={isLoading || !modalInputName.trim()} className="flex-1 bg-purple-500 hover:bg-purple-600 text-white py-3 rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2">
                                        {isLoading ? <LoadingSpinner /> : '‚úì Confirmar'}
                                    </button>
                                </div>
                            </div>
                        )}
                    </Modal>

                    <Modal isOpen={showConfirmModal} onClose={() => setShowConfirmModal(false)} title="Confirmar Presen√ßa">
                        <div>
                            <div className="text-center mb-4">
                                <span className="text-6xl">üíï</span>
                                <p className="text-gray-600 mt-3">Digite seu nome para confirmar sua presen√ßa no nosso Ch√° de Panela!</p>
                            </div>
                            <input
                                type="text"
                                value={modalInputName}
                                onChange={(e) => setModalInputName(e.target.value)}
                                placeholder="Digite seu nome"
                                className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none mb-4"
                                onKeyPress={(e) => e.key === 'Enter' && confirmPresence()}
                                aria-label="Nome para confirmar presen√ßa"
                            />
                            {selectedGift && (
                                <div className="bg-purple-50 p-3 rounded-lg mb-4">
                                    <p className="text-sm text-purple-700"><strong>Presente escolhido:</strong> {selectedGift}</p>
                                </div>
                            )}
                            <div className="flex gap-3">
                                <button onClick={() => setShowConfirmModal(false)} className="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold transition-all">
                                    Cancelar
                                </button>
                                <button onClick={confirmPresence} disabled={!modalInputName.trim()} className="flex-1 bg-purple-500 hover:bg-purple-600 text-white py-3 rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed">
                                    ‚úì Confirmar
                                </button>
                            </div>
                        </div>
                    </Modal>

                    {showTopBar && (
                        <div className="fixed top-0 left-0 right-0 bg-gradient-to-r from-purple-600 to-violet-600 text-white py-3 px-4 shadow-lg z-50 animate-fadeIn">
                            <div className="container mx-auto max-w-2xl flex items-center justify-between">
                                <span className="text-sm font-semibold flex items-center gap-2">
                                    ‚ö†Ô∏è N√£o esque√ßa de confirmar presen√ßa!
                                </span>
                                <button onClick={() => scrollToSection(confirmRef)} className="bg-white text-purple-600 px-4 py-1 rounded-full text-xs font-bold hover:scale-105 transition-transform">
                                    IR AGORA
                                </button>
                            </div>
                        </div>
                    )}

                    {hearts.map(h => (
                        <div key={h.id} className="absolute bottom-0 text-purple-400 animate-float pointer-events-none" style={{ left: `${h.left}%`, animationDelay: `${h.delay}s`, fontSize: '24px' }} aria-hidden="true">‚ù§Ô∏è</div>
                    ))}

                    {flowers.map(f => (
                        <div key={f.id} className="absolute top-0 animate-fall pointer-events-none" style={{ left: `${f.left}%`, animationDelay: `${f.delay}s`, fontSize: '28px' }} aria-hidden="true">{f.flower}</div>
                    ))}

                    <div className="container mx-auto px-4 py-8 max-w-2xl relative z-10" style={{ paddingTop: showTopBar ? '80px' : '32px' }}>
                        <div className="bg-white rounded-3xl shadow-2xl p-8 mb-6 text-center animate-fadeIn relative">
                            <div className="absolute top-4 right-4 flex gap-2">
                                <button onClick={handleShare} className="bg-purple-100 hover:bg-purple-200 p-3 rounded-full transition-all" title="Compartilhar convite" aria-label="Compartilhar convite">
                                    <span>üîó</span>
                                </button>
                                <button onClick={() => { if (audioRef.current) { isPlaying ? audioRef.current.pause() : audioRef.current.play(); setIsPlaying(!isPlaying); }}} className="bg-purple-100 hover:bg-purple-200 p-3 rounded-full transition-all" title={isPlaying ? 'Pausar m√∫sica' : 'Tocar m√∫sica'} aria-label={isPlaying ? 'Pausar m√∫sica' : 'Tocar m√∫sica'}>
                                    <span className={isPlaying ? 'animate-pulse' : ''}>üéµ</span>
                                </button>
                            </div>
                            
                            <div className="text-6xl mb-4" aria-label="Noivos">üë∞üèª‚Äç‚ôÄÔ∏èü§µüèª</div>
                            <h1 className="text-4xl font-bold text-purple-600 mb-2">Ch√° de Panela</h1>
                            <h2 className="text-2xl text-gray-700 mb-4">Stefanny & Dhiego</h2>
                            <p className="text-gray-600 italic">"O amor est√° nos detalhes... e nas panelas que vamos usar juntos!"</p>
                        </div>

                        <div className="bg-white rounded-3xl shadow-xl p-4 mb-6 animate-fadeIn">
                            <div className="grid grid-cols-3 gap-2">
                                <button onClick={() => scrollToSection(detailsRef)} className="flex flex-col items-center justify-center p-3 rounded-xl bg-purple-50 hover:bg-purple-100 transition-all group" aria-label="Ir para Data e Local">
                                    <span className="text-2xl mb-1 group-hover:scale-110 transition-transform">üìÖ</span>
                                    <span className="text-xs font-semibold text-purple-600">Data & Local</span>
                                </button>
                                <button onClick={() => scrollToSection(giftsRef)} className="flex flex-col items-center justify-center p-3 rounded-xl bg-violet-50 hover:bg-violet-100 transition-all group" aria-label="Ir para Presentes">
                                    <span className="text-2xl mb-1 group-hover:scale-110 transition-transform">üéÅ</span>
                                    <span className="text-xs font-semibold text-violet-600">Presentes</span>
                                </button>
                                <button onClick={() => scrollToSection(confirmRef)} className="flex flex-col items-center justify-center p-3 rounded-xl bg-pink-50 hover:bg-pink-100 transition-all group animate-pulse-glow" aria-label="Ir para Confirma√ß√£o">
                                    <span className="text-2xl mb-1 group-hover:scale-110 transition-transform">‚úÖ</span>
                                    <span className="text-xs font-semibold text-pink-600">Confirmar</span>
                                </button>
                            </div>
                            <p className="text-xs text-gray-500 text-center mt-3">üëÜ Clique para ir direto √† se√ß√£o</p>
                        </div>

                        {showScrollArrow && (
                            <div className="text-center mb-6 animate-fadeIn">
                                <div className="animate-bounce-arrow inline-block">
                                    <div className="text-purple-600 font-semibold text-sm mb-2">Role para ver mais</div>
                                    <div className="text-4xl">‚¨áÔ∏è</div>
                                </div>
                            </div>
                        )}

                        <div className="bg-white rounded-3xl shadow-xl p-6 mb-6">
                            <h3 className="text-xl font-semibold text-purple-600 mb-4 flex items-center gap-2">‚ù§Ô∏è Nossa Hist√≥ria</h3>
                            <p className="text-gray-600 leading-relaxed mb-4">
                                Tudo come√ßou com um olhar... depois vieram os sorrisos, as conversas que n√£o queriam terminar, 
                                e aquele sentimento de ter encontrado algu√©m especial. Agora estamos prontos para come√ßar 
                                nossa vida juntos, construindo nosso lar com muito amor!
                            </p>
                            <p className="text-gray-600 leading-relaxed">
                                E voc√™ √© parte importante dessa jornada! Por isso, queremos celebrar esse momento 
                                especial ao seu lado. Prepare-se para muita alegria, risadas e momentos inesquec√≠veis! üíï
                            </p>
                        </div>

                        <div className="bg-white rounded-3xl shadow-xl p-6 mb-6">
                            <div className="rounded-2xl overflow-hidden shadow-lg">
                                <video autoPlay loop muted playsInline className="w-full">
                                    <source src="video.mp4" type="video/mp4" />
                                </video>
                            </div>
                        </div>

                        {timeLeft && (
                            <div className="bg-white rounded-3xl shadow-xl p-6 mb-6">
                                <h3 className="text-center text-xl font-semibold text-purple-600 mb-4">Contagem Regressiva</h3>
                                <div className="flex justify-center gap-4">
                                    <div className="text-center">
                                        <div className="bg-purple-500 text-white rounded-lg p-4 text-3xl font-bold">{timeLeft.dias}</div>
                                        <div className="text-sm text-gray-600 mt-2">dias</div>
                                    </div>
                                    <div className="text-center">
                                        <div className="bg-purple-500 text-white rounded-lg p-4 text-3xl font-bold">{timeLeft.horas}</div>
                                        <div className="text-sm text-gray-600 mt-2">horas</div>
                                    </div>
                                    <div className="text-center">
                                        <div className="bg-purple-500 text-white rounded-lg p-4 text-3xl font-bold">{timeLeft.minutos}</div>
                                        <div className="text-sm text-gray-600 mt-2">min</div>
                                    </div>
                                </div>
                            </div>
                        )}

                        <div ref={detailsRef} className="bg-white rounded-3xl shadow-xl p-6 mb-6">
                            <h3 className="text-xl font-semibold text-purple-600 mb-4 flex items-center gap-2">üìÖ Detalhes do Evento</h3>
                            <div className="space-y-3">
                                <div className="flex items-start gap-3">
                                    <span aria-hidden="true">üìÖ</span>
                                    <div><p className="font-semibold">Data</p><p className="text-gray-600">S√°bado, 14 de Fevereiro de 2026</p></div>
                                </div>
                                <div className="flex items-start gap-3">
                                    <span aria-hidden="true">üïî</span>
                                    <div><p className="font-semibold">Hor√°rio</p><p className="text-gray-600">17:00h</p></div>
                                </div>
                                <div className="flex items-start gap-3">
                                    <span aria-hidden="true">üìç</span>
                                    <div className="flex-1">
                                        <p className="font-semibold">Local</p>
                                        <p className="text-gray-600">Espa√ßo Esquina do Paraiso</p>
                                        <p className="text-sm text-gray-500">Res. Paraiso 2 - Senador Canedo</p>
                                    </div>
                                </div>
                            </div>

                            <button onClick={() => window.open('https://maps.app.goo.gl/vcshqsjwYWUnmFJY6', '_blank')} className="w-full mt-4 bg-purple-100 hover:bg-purple-200 text-purple-600 py-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all" aria-label="Abrir localiza√ß√£o no Google Maps">
                                üß≠ Abrir no Google Maps
                            </button>

                            <button onClick={() => {
                                const url = `https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent('Ch√° de Panela - Stefanny & Dhiego')}&dates=20260214T170000Z/20260214T210000Z&details=${encodeURIComponent('Ch√° de Panela da Stefanny e Dhiego')}&location=${encodeURIComponent('Espa√ßo Esquina do Paraiso - Res. Paraiso 2')}`;
                                window.open(url, '_blank');
                            }} className="w-full mt-2 bg-violet-100 hover:bg-violet-200 text-violet-600 py-3 rounded-lg font-semibold transition-all" aria-label="Adicionar evento ao Google Calendar">
                                üìÖ Adicionar a Agenda
                            </button>
                        </div>

                        <div className="bg-white rounded-3xl shadow-xl p-6 mb-6">
                            <h3 className="text-xl font-semibold text-purple-600 mb-4 flex items-center gap-2">‚ö†Ô∏è Informa√ß√£o Importante</h3>
                            <div className="bg-amber-50 border-2 border-amber-200 rounded-lg p-4 text-center">
                                <p className="text-lg font-semibold text-amber-700 mb-2">ü•§ Leve Sua Bebida de Prefer√™ncia!</p>
                                <p className="text-sm text-gray-600">Teremos muita comida deliciosa, mas as bebidas ficam por sua conta! üòä</p>
                            </div>
                        </div>

                        <div ref={giftsRef} className="bg-white rounded-3xl shadow-xl p-6 mb-6">
                            <h3 className="text-xl font-semibold text-purple-600 mb-4 flex items-center gap-2">üéÅ Sugest√µes de Presentes</h3>
                            {loadingGifts ? (
                                <div className="text-center py-8 text-gray-500"><LoadingSpinner /><p className="mt-3">Carregando lista de presentes...</p></div>
                            ) : (
                                <>
                                    <div className="mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg">
                                        <p className="text-sm text-blue-700"><strong>üí° Dica:</strong> Clique no presente para reserv√°-lo e evitar duplicatas!</p>
                                    </div>
                                    <div className="grid grid-cols-2 gap-3">
                                        {gifts.map((gift) => {
                                            const isReserved = reservedGifts[gift.id];
                                            const isSelected = selectedGift === gift.name;
                                            
                                            return (
                                                <button key={gift.id} onClick={() => handleReserveGift(gift)} disabled={isReserved} className={`p-3 rounded-lg border-2 text-left transition-all relative ${isReserved ? 'border-gray-300 bg-gray-100 opacity-60 cursor-not-allowed' : isSelected ? 'border-purple-500 bg-purple-50' : 'border-gray-200 hover:border-purple-300 hover:bg-purple-50'}`} aria-label={`${gift.name}${isReserved ? ' - Reservado por ' + isReserved : ''}`}>
                                                    <div className="flex items-start gap-2">
                                                        <span className="text-2xl" aria-hidden="true">{gift.emoji}</span>
                                                        <div className="flex-1">
                                                            <span className="text-sm block">{gift.name}</span>
                                                            {isReserved && <span className="text-xs text-gray-500 mt-1 block">Reservado por {isReserved}</span>}
                                                        </div>
                                                        {isReserved && <span className="text-green-500 text-lg" aria-hidden="true">‚úì</span>}
                                                    </div>
                                                </button>
                                            );
                                        })}
                                    </div>
                                    {selectedGift && <p className="mt-4 text-center text-purple-600 font-semibold">Voc√™ selecionou: {selectedGift}</p>}
                                </>
                            )}
                        </div>

                        <div className="bg-white rounded-3xl shadow-xl p-6 mb-6">
                            <h3 className="text-xl font-semibold text-purple-600 mb-4 flex items-center gap-2">‚òÄÔ∏è Previs√£o do Tempo</h3>
                            {loadingWeather ? (
                                <div className="text-center py-8 text-gray-500"><div className="text-4xl mb-3">‚è≥</div><LoadingSpinner /><p className="mt-3">Carregando previs√£o do tempo...</p></div>
                            ) : weather ? (
                                <div className="bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-4">
                                    <p className="text-center text-2xl mb-2" aria-label={getWeatherDesc(weather.weatherCode)}>{getWeatherIcon(weather.weatherCode)}</p>
                                    <p className="text-center font-semibold text-gray-700 mb-3">{getWeatherDesc(weather.weatherCode)}</p>
                                    <div className="flex justify-center gap-6 mb-2">
                                        <div className="text-center">
                                            <p className="text-sm text-gray-600">M√°xima</p>
                                            <p className="text-2xl font-bold text-orange-500">{weather.maxTemp}¬∞C</p>
                                        </div>
                                        <div className="text-center">
                                            <p className="text-sm text-gray-600">M√≠nima</p>
                                            <p className="text-2xl font-bold text-blue-500">{weather.minTemp}¬∞C</p>
                                        </div>
                                    </div>
                                    <p className="text-center text-sm text-gray-600 mt-3">Chance de chuva: {weather.precipitation}%</p>
                                    <p className="text-xs text-gray-500 text-center mt-3 italic">Previs√£o para 14/02/2026 em Senador Canedo</p>
                                </div>
                            ) : (
                                <div className="bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-4 text-center">
                                    <p className="text-4xl mb-3">üå§Ô∏è</p>
                                    <p className="text-gray-600 mb-2">A previs√£o do tempo estar√° dispon√≠vel mais pr√≥ximo da data do evento!</p>
                                    <p className="text-sm text-gray-500 italic">Volte em janeiro de 2026 para conferir üòä</p>
                                </div>
                            )}
                        </div>

                        <div className="bg-white rounded-3xl shadow-xl p-6 mb-6">
                            <h3 className="text-xl font-semibold text-purple-600 mb-4 flex items-center gap-2">üí∞ Prefere Contribuir via PIX?</h3>
                            <p className="text-gray-600 mb-4">Se preferir, voc√™ pode fazer uma contribui√ß√£o em dinheiro para ajudar a mobiliar nosso lar!</p>
                            <button onClick={() => setShowPix(!showPix)} className="w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-semibold transition-all" aria-label={showPix ? 'Ocultar QR Code PIX' : 'Ver QR Code PIX'}>
                                {showPix ? 'Ocultar QR Code PIX' : 'Ver QR Code PIX'}
                            </button>
                            {showPix && (
                                <div className="mt-4 p-4 bg-gray-50 rounded-lg animate-fadeIn">
                                    <div className="bg-white p-4 rounded-lg border-2 border-gray-200 flex items-center justify-center mb-4">
                                        <img src="qrcode-pix.png" alt="QR Code PIX para contribui√ß√£o" className="w-64 h-64 object-contain" />
                                    </div>
                                    <p className="text-sm text-gray-600 mb-2 text-center"><strong>PIX COPIA E COLA:</strong></p>
                                    
                                    <div className="flex items-stretch gap-2">
                                        <p className="text-xs font-mono bg-white p-3 rounded border border-gray-200 text-center flex-grow break-all">
                                            00020126580014BR.GOV.BCB.PIX0136907ff8c6-32fc-45e1-b013-f33bbffc73895204000053039865802BR5921Dhiego Rodrigues Dias6009SAO PAULO621405100h9jlWZlEi63041190
                                        </p>
                                        <button onClick={async () => {
                                            try {
                                                await navigator.clipboard.writeText("00020126580014BR.GOV.BCB.PIX0136907ff8c6-32fc-45e1-b013-f33bbffc73895204000053039865802BR5921Dhiego Rodrigues Dias6009SAO PAULO621405100h9jlWZlEi63041190");
                                                setPixCopied(true);
                                                setTimeout(() => setPixCopied(false), 2000);
                                            } catch (err) {
                                                alert('Erro ao copiar a chave. Por favor, copie manualmente.');
                                            }
                                        }} className={`p-3 rounded-lg font-semibold transition-all flex-shrink-0 flex items-center justify-center ${pixCopied ? 'bg-green-500 hover:bg-green-600 text-white' : 'bg-purple-500 hover:bg-purple-600 text-white'}`} aria-label="Copiar chave PIX">
                                            {pixCopied ? <span className="flex items-center gap-1">‚úì Copiado!</span> : <span>üìã</span>}
                                        </button>
                                    </div>

                                    <p className="text-sm text-gray-500 mt-3 text-center"><strong>Favorecido:</strong> Stefanny ou Dhiego</p>
                                    <p className="text-xs text-gray-400 mt-3 text-center italic">üíï Sua contribui√ß√£o nos ajuda a construir nosso lar!</p>
                                </div>
                            )}
                        </div>

                        <div ref={confirmRef} className="bg-white rounded-3xl shadow-xl p-6 text-center">
                            {showThankYou ? (
                                <div className="animate-fadeIn">
                                    <div className="text-6xl mb-4">üíï</div>
                                    <h3 className="text-2xl font-bold text-purple-600 mb-3">Obrigado, {guestName}!</h3>
                                    <p className="text-gray-600 mb-4">Ficamos muito felizes com sua confirma√ß√£o! Sua presen√ßa √© muito importante para n√≥s.</p>
                                    <div className="bg-purple-50 border-2 border-purple-200 rounded-lg p-4 mb-4">
                                        <p className="text-sm text-purple-700">Mal podemos esperar para celebrar esse momento especial com voc√™!</p>
                                        <p className="text-sm text-purple-700 mt-2">At√© breve! ‚ú®</p>
                                    </div>
                                    <div className="flex justify-center gap-2 mb-4">
                                        <span className="text-2xl animate-bounce">‚ù§Ô∏è</span>
                                        <span className="text-2xl animate-bounce delay-1">‚ù§Ô∏è</span>
                                        <span className="text-2xl animate-bounce delay-2">‚ù§Ô∏è</span>
                                    </div>
                                    <p className="text-xs text-gray-500 italic">- Stefanny & Dhiego</p>
                                </div>
                            ) : (
                                <button onClick={handleConfirm} className={`w-full py-4 rounded-full text-lg font-semibold transition-all transform hover:scale-105 ${confirmed ? 'bg-green-500 text-white' : 'bg-purple-500 hover:bg-purple-600 text-white'}`}>
                                    {confirmed ? <span className="flex items-center justify-center gap-2">‚úì Presen√ßa Confirmada!</span> : 'Confirmar Presen√ßa'}
                                </button>
                            )}
                            <p className="text-sm text-gray-500 mt-4">Contato: (62) 99548-3241</p>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<ChaDePanelaInvite />, document.getElementById('root'));
    </script>
</body>
</html>
